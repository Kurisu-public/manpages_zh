#使用ronn来处理转换的一些技巧

##显示设置

在man中显示汉字与英语杂排总是会有拉伸，同一个文件在每个人的显示屏上最终
显示效果也不同，为了解决这个问题，以前的中文manpages项目讨论过解决办法，
一种是采用固定列数的办法，manpages仅为这一种列数优化，在这种列数下显示一
般是正常的，其他列数下则有可能发生单词拉伸。还有一种办法就是每个汉字之间
放一个空格，把汉字当做英文单词来排版，这样做的缺点是不规范，也不好看。之
前的CMPP项目采用第二种方法，这里暂时采用第一种方法，这样至少可以在特定列
下显示是完整好看的。

通常X下终端默认多是每行80列，即每行容纳80个字符，对于单字节英文，可以显
示80个字符，对于双字节汉字则可以容纳40个，这里选择每行80列作为标准，你可
以在bashrc中设置COLUMS环境变量

	export COLUMNS=80

如果你用的shell模拟器支持调节列宽，你也应如此设置。

##书写设置

程序的各种选项在ronn中通常使用列表来实现，下面是grep中的例子。

ronn源码

	* `-a` 或 `--text`:
	grep原本是搜寻文字文件，若加上-a参数则可将二进制档案
	视为文本文件搜寻，相当于`--binary-files=text`这个参数。
	* `-c`:
	只输出匹配行的总数

显示效果

	-a 或 --text
		      grep原本是搜寻文字文件，若加上-a参数则可将二进制档案
		      视为文本文件搜寻，相当于--binary-files=text这个参
		      数。

	       -c     只输出匹配行的总数

可以发现，对于短选项，最终是放在一行展示的，对于长选项则是换行显示。但两
者都会缩进。还可以发现，在显示中存在两级缩进的情况，第一级缩进用在普通行
中，此时缩进4个中文字符，即8个字节，以每行80个字符计算，每行最多显示36个
汉字，第二级缩进用在列表中，此时又缩进4个中文字符，总共缩进16个字节，每
行最多显示32个汉字。

如果您使用vim可以设置普通行在72个字符换行，列表在64个字符换行

	set textwidth=72
	set textwidth=64 

当然也可以使用快捷键快速转换，下面是我用的快捷键。

	map 	<leader>7 	:<C-U>set textwidth=72<CR> 
	map 	<leader>6 	:<C-U>set textwidth=64<CR>

还有一种方法，就是使用"短介绍＋空一行＋长介绍"的方式，因此上面的例子可以
做如下修改。

ronn源码

	* `-a` 或 `--text`:
	将二进制档案视为文本文件搜寻

	grep原本是搜寻文本文件，这个参数则相当于`--binary-files=text`这个参数。

	* `-c`:
	只输出匹配行的总数

显示效果

	-a 或 --text
		      将二进制档案视为文本文件搜寻

	       grep原本是搜寻文本文件，这个参数则相当于--binary-files=text这个参数。

	       -c     只输出匹配行的总数

两者相比，第二种方法比第一种稍欠美观，但结构更清楚，更容易阅读。而且也不
需要来回设置行字符数了。如果你喜欢这种方式可以考虑在vimrc中加入如下设置

	autocmd FileType * setlocal textwidth=72 formatoptions=tcmM 

这里设置一行72个字符，可显示36个汉字，formatoptions可以设置排版，具体可
以参考vim。

您在书写中单词和中文之间不应该有空格，如果有空格会被拉伸。汉字英语杂排，
最终有可能一行79个字符，即放不满80个字符的情况，这时英文显示会稍有拉伸。
但一个字符不至于影响太多。
