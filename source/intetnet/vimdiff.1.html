<!DOCTYPE html>
<html>
<head>
  <meta http-equiv='content-type' value='text/html;charset=utf8'>
  <meta name='generator' value='Ronn/v0.7.3 (http://github.com/rtomayko/ronn/tree/0.7.3)'>
  <title>vimdiff(1) - 比较同一文件的两、三或四个版本间的差异</title>
  <style type='text/css' media='all'>
  /* style: man */
  body#manpage {margin:0}
  .mp {max-width:100ex;padding:0 9ex 1ex 4ex}
  .mp p,.mp pre,.mp ul,.mp ol,.mp dl {margin:0 0 20px 0}
  .mp h2 {margin:10px 0 0 0}
  .mp > p,.mp > pre,.mp > ul,.mp > ol,.mp > dl {margin-left:8ex}
  .mp h3 {margin:0 0 0 4ex}
  .mp dt {margin:0;clear:left}
  .mp dt.flush {float:left;width:8ex}
  .mp dd {margin:0 0 0 9ex}
  .mp h1,.mp h2,.mp h3,.mp h4 {clear:left}
  .mp pre {margin-bottom:20px}
  .mp pre+h2,.mp pre+h3 {margin-top:22px}
  .mp h2+pre,.mp h3+pre {margin-top:5px}
  .mp img {display:block;margin:auto}
  .mp h1.man-title {display:none}
  .mp,.mp code,.mp pre,.mp tt,.mp kbd,.mp samp,.mp h3,.mp h4 {font-family:monospace;font-size:14px;line-height:1.42857142857143}
  .mp h2 {font-size:16px;line-height:1.25}
  .mp h1 {font-size:20px;line-height:2}
  .mp {text-align:justify;background:#fff}
  .mp,.mp code,.mp pre,.mp pre code,.mp tt,.mp kbd,.mp samp {color:#131211}
  .mp h1,.mp h2,.mp h3,.mp h4 {color:#030201}
  .mp u {text-decoration:underline}
  .mp code,.mp strong,.mp b {font-weight:bold;color:#131211}
  .mp em,.mp var {font-style:italic;color:#232221;text-decoration:none}
  .mp a,.mp a:link,.mp a:hover,.mp a code,.mp a pre,.mp a tt,.mp a kbd,.mp a samp {color:#0000ff}
  .mp b.man-ref {font-weight:normal;color:#434241}
  .mp pre {padding:0 4ex}
  .mp pre code {font-weight:normal;color:#434241}
  .mp h2+pre,h3+pre {padding-left:0}
  ol.man-decor,ol.man-decor li {margin:3px 0 10px 0;padding:0;float:left;width:33%;list-style-type:none;text-transform:uppercase;color:#999;letter-spacing:1px}
  ol.man-decor {width:100%}
  ol.man-decor li.tl {text-align:left}
  ol.man-decor li.tc {text-align:center;letter-spacing:4px}
  ol.man-decor li.tr {text-align:right;float:right}
  </style>
</head>
<!--
  The following styles are deprecated and will be removed at some point:
  div#man, div#man ol.man, div#man ol.head, div#man ol.man.

  The .man-page, .man-decor, .man-head, .man-foot, .man-title, and
  .man-navigation should be used instead.
-->
<body id='manpage'>
  <div class='mp' id='man'>

  <div class='man-navigation' style='display:none'>
    <a href="#NAME">NAME</a>
    <a href="#-">语法</a>
    <a href="#-">描述</a>
    <a href="#-">选项</a>
    <a href="#-">操作</a>
  </div>

  <ol class='man-decor man-head man head'>
    <li class='tl'>vimdiff(1)</li>
    <li class='tc'></li>
    <li class='tr'>vimdiff(1)</li>
  </ol>

  <h2 id="NAME">NAME</h2>
<p class="man-name">
  <code>vimdiff</code> - <span class="man-whatis">比较同一文件的两、三或四个版本间的差异</span>
</p>

<h2 id="-">语法</h2>

<p><code>vimdiff [-o] file1 file2 [file3 [file4]]</code></p>

<p><code>gvimdiff</code></p>

<h2 id="-">描述</h2>

<p>vimdiff适合对比一个文件两个,三个或四个版本之间的差异,它拥有简单明了的界
面,可以在多处差异之间快速定位,因而在无法使用图形化的比较工具的时候,或者
在需要快速比较和合并少量文件的时候,vimdiff是最好的选择.</p>

<p>进入比较模式编辑的最简单方法就是用"vimdiff"命令.它如常启动vim,但附加如
下设置,以便于查看输入参数所指定的文件间的差异,如下参数仅设置于当前窗口.</p>

<pre><code>diff        打开
scrollbind  打开
cursorbind  打开
scrollopt   包含"hor"
wrap        关闭
foldmethod  "diff"
foldcolumn  来自'diffopt'的值,缺省为2
</code></pre>

<p>vimdiff语法中第二个及其后的文件也可以是目录名.vim将依据第一个参数所指定
的文件名在指定目录中查找另外的文件名.这一特性仅对标准的"diff"命令有效.</p>

<p>两个文件中连续的相同的行被折叠了起来,只在某一文件中存在的行的背景色被设
置为蓝色,而在另一文件中的对应位置被显示为绿色.两个文件中都存在,但是包含
差异的行显示为粉色背景,引起差异的文字用红色背景加以突出.比较基于缓冲区的
内容.因而,如果在载入文件后你做过改动,这些改动也将参加比较.不过,你也许要
不时地使用"diffupdate".因为并非所有的改动的结果都能自动更新.</p>

<h2 id="-">选项</h2>

<dl>
<dt class="flush"><code>-o</code></dt><dd>窗口水平分割,默认为垂直分割.</dd>
</dl>


<h2 id="-">操作</h2>

<p><strong>光标移动</strong></p>

<p>移动光标时左右两侧的屏幕滚动是同步的,这是因为设置了"scrollbind"选项,vim
会尽力保证两侧文件的对齐.可以使用快捷键在各个差异点之间快速移动.跳转到下
一个差异点"]c",反向跳转是"[c".如果在命令前加上数字的话,可以跳过一个或数
个差异点,从而实现跳的更远.比如如果在位于第一个差异点的行输入"2]c",将越过
下一个差异点,跳转到第三个差异点.</p>

<p><strong>文件合并</strong></p>

<p>如果希望把一个差异点中当前文件的内容复制到另一个文件里,可以使用命令"dp".
如果希望把另一个文件的内容复制到当前文件中,可以使用命令"do".如果希望手工
修改某一行,可以使用通常的vim操作.</p>

<p><strong>展开与查看</strong></p>

<p>比较和合并文件的时候经常需要结合上下文来确定最终要采取的操作.vimdiff缺
省是会把不同之处上下各6行的文本都显示出来以供参考.其他的相同的文本行被
自动折叠.可以用简单的折叠命令"zo"来临时展开被折叠的相同的文本行,然后可
以用"zc"命令来重新折叠.</p>


  <ol class='man-decor man-foot man foot'>
    <li class='tl'></li>
    <li class='tc'>March 2015</li>
    <li class='tr'>vimdiff(1)</li>
  </ol>

  </div>
</body>
</html>
